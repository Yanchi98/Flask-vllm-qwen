# Flask + gunicorn + qwen7B推理

*🐶小白学习自用✨*
___
`start.sh` 启动脚本，安装依赖和通过gunicorn自动服务

`manage.py` 创建APP（注册蓝图，下载模型文件等）

`service/__init__.py`：predict_bp 是一个蓝图对象，它被创建并注册到当前命名空间 __name__ 下。然后，通过 from . import views 语句，将 views 模块中的路由和视图函数导入到当前命名空间中，这样它们就可以被注册到 predict_bp 蓝图上。

`service/view.py`:views.py 从 __init__.py 中导入了 predict_bp 蓝图，并定义了一个视图函数 some_view_function，它被装饰为 predict_bp 的路由。这样，当这个蓝图被注册到 Flask 应用实例上时，这个视图函数就会成为应用的一部分

`service/predict.py`: 通过vllm进行qwen27B推理加速

`utils.py`: 定义一些通用工具
____

*Q:Gunicorn是什么?*

*A:Gunicorn 是一个 Python 的 WSGI HTTP 服务器*

*Q: 为什么要使用gunicorn?*

*A: 由于Flask框架默认是单进程，单线程阻塞的任务模式，为了实现并发，可以用 gunicorn 来部署Flask服务。*

*Q: 为什么使用蓝图?*

A: 模块化：蓝图允许你将应用的不同部分分割成独立的模块。每个模块可以有自己的路由、错误处理和模板。这使得代码更加清晰和易于管理。
重用性：蓝图可以在多个应用之间重用。如果你有一个蓝图定义了一组通用的功能，你可以在多个 Flask 应用中注册这个蓝图，而不必重复代码。

大型应用的组织：对于大型应用，使用蓝图可以帮助你将应用分割成更小的、可管理的部分。每个部分可以由不同的团队或个人开发和维护。

命名空间：蓝图允许你定义一个命名空间，这意味着你可以在不同的蓝图中使用相同的路由名称，而不会相互冲突。

动态注册：蓝图可以在应用启动时动态地注册到 Flask 应用实例上。这提供了灵活性，允许你在运行时根据配置或环境来决定哪些蓝图应该被注册。

----
